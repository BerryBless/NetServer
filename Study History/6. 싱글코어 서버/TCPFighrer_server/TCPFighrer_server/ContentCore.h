#pragma once
#include "Character.h"


//////////////////////////////////////////////////////////////////////////
// 컨탠츠의 메인루프
// 
// Parameters: 없음
// Return: 없음.
//////////////////////////////////////////////////////////////////////////
BOOL ContentUpdate();

//////////////////////////////////////////////////////////////////////////
// 해당 좌표로 갈 수 있나?
// 
// Parameters: 없음
// Return: BOOL.
//////////////////////////////////////////////////////////////////////////
inline BOOL CanGo(int x, int y);

//////////////////////////////////////////////////////////////////////////
// 액션을 근처섹터에 보내고
// pAttacker의 근처섹터에 히트 스캔
// 데미지 판정
// 
// Parameters: CCharacter *, 
// Return: void
//////////////////////////////////////////////////////////////////////////
void HitScanAndSend(CCharacter *pAttacker);

//////////////////////////////////////////////////////////////////////////
// 캐릭터가 컨텐츠적으로 삭제될 상황에서 삭제
// HP가 0이거나 오랜시간 가만히 있거나
// 
// Parameters: CCharacter *, 
// Return: void
//////////////////////////////////////////////////////////////////////////
void DisconnectClient(CCharacter *pCharacter);

#pragma region WRAPPING
// 자료구조 컨테이너 래핑
CCharacter *CreateCharacter(DWORD SID);
CCharacter *FindCharacter(DWORD SID);
BOOL DeleteCharacter(DWORD SID);
#pragma endregion


extern BOOL g_dummytest ;
extern int g_FixedUpdate;